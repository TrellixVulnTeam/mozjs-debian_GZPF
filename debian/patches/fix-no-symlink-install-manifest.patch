From c38a8207fe85b677daaad63768022c5f950a2439 Mon Sep 17 00:00:00 2001
From: Philip Chimento <philip.chimento@gmail.com>
Date: Fri, 21 Jul 2017 20:10:47 -0700
Subject: [PATCH] build: Fix no-symlink install manifest

This still installed symlinks when given a pattern to copy.

https://bugzilla.mozilla.org/show_bug.cgi?id=1379537
---
 python/mozbuild/mozpack/manifests.py | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/python/mozbuild/mozpack/manifests.py b/python/mozbuild/mozpack/manifests.py
index 9ceeec47..93bd6c2c 100644
--- a/python/mozbuild/mozpack/manifests.py
+++ b/python/mozbuild/mozpack/manifests.py
@@ -410,3 +410,10 @@ def add_symlink(self, source, dest):
         source will be copied to dest.
         """
         self.add_copy(source, dest)
+
+    def add_pattern_symlink(self, base, pattern, dest):
+        """A wrapper that accepts symlink patterns and installs file copies.
+
+        Files discovered with ``pattern`` will be copied to ``dest``.
+        """
+        self.add_pattern_copy(base, pattern, dest)

